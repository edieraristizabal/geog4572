<!doctype html>
<html lang="en">

<head>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.6.14/c3.min.css" rel="stylesheet">
  <script src="https://unpkg.com/d3@5/dist/d3.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.6.14/c3.min.js"></script>
</head>

<body>
  <div id="chart"></div>
  <script>


    Promise.all([
      d3.csv('assets/test1.csv'),
      d3.csv('assets/test2.csv'),
      d3.json('assets/counties.geojson')
    ]).then(function(datasets) {

      var dataseries1 = ["t"];
      var dataseries2 = ["q"];

      datasets[0].forEach(function(d) {
        dataseries1.push(+d["data1"]);
        dataseries2.push(+d["data2"]);
      });


    var chart = c3.generate({
        bindto: '#chart',
        data: {
          columns: [
            dataseries1,
            dataseries2
          ],
          axes: {
            dataseries1: 'y2'
          },
          types: {
            t: 'bar',
            q: 'area-spline' // ADD
          }
        },
        axis: {
          y: {
            label: {
              text: 'Y Label',
              position: 'outer-middle'
            }
          },
          y2: {
            show: true,
            label: {
              text: 'Y2 Label',
              position: 'outer-middle'
            }
          }
        }
    });








    })














  </script>
</body>

</html>
